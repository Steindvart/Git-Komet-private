# Git Komet - Frontend

Frontend приложение для системы автооценки эффективности команд через анализ Git-метрик.

## Технологии

- **Nuxt.js 4** - мощный Vue.js фреймворк
- **Vue 3** - прогрессивный JavaScript фреймворк
- **TypeScript** - типизированный JavaScript
- **Chart.js** - библиотека для построения графиков
- **vue-chartjs** - Vue компоненты для Chart.js

## Структура проекта

```
frontend/
├── app/
│   └── app.vue          # Главный компонент приложения
├── pages/
│   └── index.vue        # Главная страница с дашбордом
├── components/
│   └── BarChart.vue     # Компонент для отображения графиков
├── composables/
│   └── useApi.ts        # Composable для работы с API
├── public/              # Статические файлы
├── nuxt.config.ts       # Конфигурация Nuxt
└── package.json         # Зависимости проекта
```

## Установка и запуск

### 1. Установка зависимостей

```bash
cd frontend
npm install
```

### 2. Настройка переменных окружения (опционально)

Создайте файл `.env` для настройки API endpoint:

```
NUXT_PUBLIC_API_BASE=http://localhost:8001
```

По умолчанию используется `http://localhost:8001`.

### 3. Запуск в режиме разработки

```bash
npm run dev
```

Приложение будет доступно по адресу `http://localhost:3000`

### 4. Сборка для продакшена

```bash
npm run build
npm run preview
```

## Использование

### Первый запуск

1. Убедитесь, что backend сервер запущен на `http://localhost:8001`
2. Откройте frontend по адресу `http://localhost:3000`
3. Нажмите кнопку **"Сгенерировать тестовые данные"** для создания демо-проекта
4. После генерации данных появится анализ узких мест с графиками и рекомендациями

### Основной функционал

#### Дашборд метрик

- **Метрики Pull Requests:**
  - Среднее время до первого ревью
  - Среднее время до одобрения
  - Среднее время до мерджа

- **Метрики задач:**
  - Среднее время до начала работы
  - Среднее время выполнения

#### Анализ узких мест

Система автоматически определяет узкие места на основе пороговых значений:
- PR ожидает первое ревью > 24 часов ⚠️
- PR ожидает одобрения > 48 часов ⚠️
- PR не мерджится > 72 часов ⚠️
- Задача не берётся в работу > 48 часов ⚠️
- Задача выполняется > 168 часов (неделя) ⚠️

#### Рекомендации

Для каждого обнаруженного узкого места система предлагает практические рекомендации по улучшению процесса разработки.

## Компоненты

### BarChart

Переиспользуемый компонент для отображения столбчатых диаграмм.

**Props:**
- `data` - объект с `labels` (массив строк) и `values` (массив чисел)
- `title` - заголовок графика (опционально)

**Пример использования:**
```vue
<BarChart 
  :data="{ labels: ['Метрика 1', 'Метрика 2'], values: [10, 20] }" 
  title="Мой график"
/>
```

### useApi Composable

Composable для работы с backend API.

**Методы:**
- `fetchProjects()` - получение списка проектов
- `fetchBottleneckAnalysis(projectId)` - получение анализа узких мест
- `generateMockData()` - генерация тестовых данных
- `clearMockData()` - удаление всех данных

## Планируемые улучшения

- [ ] Добавить линейные графики для трендов
- [ ] Реализовать фильтры по датам
- [ ] Добавить экспорт отчётов в PDF
- [ ] Создать детальные страницы для PR и задач
- [ ] Добавить темную тему
- [ ] Реализовать real-time обновления через WebSocket
- [ ] Добавить сравнение проектов
- [ ] Создать персональные дашборды для разработчиков

## Разработка

### Режим разработки с hot-reload

```bash
npm run dev
```

### Проверка типов TypeScript

```bash
npm run typecheck
```

### Сборка

```bash
npm run build
```

### Запуск продакшен сборки

```bash
npm run preview
```

## API Integration

Frontend взаимодействует с backend через REST API. Все запросы проходят через `useApi` composable, что позволяет легко изменить endpoint или добавить authentication в будущем.

Базовый URL API настраивается через переменную окружения `NUXT_PUBLIC_API_BASE` или в `nuxt.config.ts`.
